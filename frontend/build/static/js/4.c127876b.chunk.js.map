{"version":3,"sources":["../node_modules/cssfilter/lib/index.js","../node_modules/xss/lib/util.js","../node_modules/xss/lib/default.js","../node_modules/cssfilter/lib/default.js","../node_modules/cssfilter/lib/util.js","../node_modules/xss/lib/parser.js","../node_modules/react-truncate-html/index.js","../node_modules/xss/lib/index.js","../node_modules/cssfilter/lib/css.js","../node_modules/cssfilter/lib/parser.js","../node_modules/xss/lib/xss.js"],"names":["DEFAULT","require","FilterCSS","i","exports","module","html","options","process","window","filterCSS","indexOf","arr","item","j","Array","prototype","length","forEach","fn","scope","call","trim","str","String","replace","spaceIndex","match","exec","index","getDefaultCSSWhiteList","getDefaultWhiteList","_","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","font","footer","h1","h2","h3","h4","h5","h6","header","hr","img","ins","li","mark","nav","ol","p","pre","s","section","small","span","sub","sup","strong","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","escapeHtml","REGEXP_LT","REGEXP_GT","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","REGEXP_DEFAULT_ON_TAG_ATTR_4","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeQuote","unescapeQuote","escapeHtmlEntities","fromCharCode","parseInt","substr","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","charCodeAt","charAt","friendlyAttrValue","escapeAttrValue","STRIP_COMMENT_TAG_REGEXP","whiteList","onTag","tag","onIgnoreTag","onTagAttr","name","value","onIgnoreTagAttr","safeAttrValue","cssFilter","lastIndex","test","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","isArray","removeList","posStart","isRemoveTag","isClosing","ret","end","position","push","remove","rethtml","lastPos","pos","slice","stripCommentTag","stripBlankChar","chars","split","filter","char","c","join","REGEXP_URL_JAVASCRIPT","onAttr","onIgnoreAttr","trimRight","getTagName","tagName","toLowerCase","REGEXP_ILLEGAL_ATTR_NAME","findNextEqual","findBeforeEqual","stripQuoteWrap","text","isQuoteWrapString","parseTag","tagStart","quoteStart","currentPos","currentTagName","currentHtml","parseAttr","retAttrs","tmpName","addAttr","Object","defineProperty","_extends","assign","target","arguments","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_propTypes2","_interopRequireDefault","_react","_react2","_xss2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","Truncate","_Component","_ref","_temp","_this","this","_len","args","_key","__proto__","getPrototypeOf","apply","concat","cached","subClass","superClass","create","constructor","setPrototypeOf","_inherits","passedProps","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","keys","propTypes","Symbol","iterator","done","err","return","children","console","error","__html","dangerouslySetInnerHTML","createElement","ref","prevProps","refs","paragraph","innerHTML","add","lines","portrait","innerHeight","innerWidth","responsive","debounce","_listener","clearTimeout","setTimeout","bind","addEventListener","removeEventListener","element","prop","viewportOffset","getBoundingClientRect","bottom","top","lineh","getComputedStyle","getPropertyValue","createProp","isNotCorrect","childNodes","handleChilds","nodeType","simpleText","fix","words","pop","conf","ellipsis","st","childText","nodeValue","height","lineheight","current","breakWord","dOne","dTwo","r","e","domChilds","displayOrigin","style","display","processBreak","removeChild","innerText","Component","string","number","bool","defaultProps","parser","FilterXSS","filterXSS","parseStyle","isNull","shallowCopyObject","css","toString","sourcePosition","check","isWhite","RegExp","opts","cssLength","isParenthesisOpen","retCSS","addNewAttr","stripIgnoreTag","allowCommentTag","stripIgnoreTagBody","retHtml","info","attrs","closing","getAttrs","whiteAttrList","attrsHtml","isWhiteAttr"],"mappings":"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","file":"static/js/4.c127876b.chunk.js","sourcesContent":["/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS过滤\n *\n * @param {String} css 要过滤的CSS代码\n * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// 输出\nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// 在浏览器端使用\nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n","module.exports = {\n  indexOf: function(arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function(arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function(str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  }\n};\n","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape doube quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function() {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function(tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function(html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function(pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  return html.replace(STRIP_COMMENT_TAG_REGEXP, \"\");\n}\nvar STRIP_COMMENT_TAG_REGEXP = /<!--[\\s\\S]*?-->/g;\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function(char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    var tagName = html.slice(1, -1);\n  } else {\n    var tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"user strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if ((c === '\"' || c === \"'\") && html.charAt(currentPos - 1) === \"=\") {\n          quoteStart = c;\n          continue;\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9_:\\.\\-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"user strict\";\n\n  var lastPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastPos &&\n        (c === '\"' || c === \"'\") &&\n        html.charAt(i - 1) === \"=\"\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _xss = require('xss');\n\nvar _xss2 = _interopRequireDefault(_xss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * React port of ellipsis.js\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Original ellipsis.js author: Gregory Linford\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * react-truncate-html author: Jari Zwarts (https://jari.io/)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar isServer = function isServer() {\n    return typeof window === 'undefined';\n};\n\nvar Truncate = function (_Component) {\n    _inherits(Truncate, _Component);\n\n    function Truncate() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Truncate);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Truncate.__proto__ || Object.getPrototypeOf(Truncate)).call.apply(_ref, [this].concat(args))), _this), _this.cached = null, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Truncate, [{\n        key: 'render',\n        value: function render() {\n            // pass any additional props to the paragraph element\n            var passedProps = _extends({}, this.props);\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = Object.keys(Truncate.propTypes)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var key = _step.value;\n\n                    delete passedProps[key];\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            if (this.props.children) {\n                console.error('react-truncate-html: We can\\'t handle react children at the moment.\\nYou\\'re %crequired%c to pass dangerouslySetInnerHTML to set contents. Sorry!', 'font-style:italic', 'font-style:normal');\n                return null;\n            }\n            var dangerouslySetInnerHTML = this.props.dangerouslySetInnerHTML;\n            var __html = dangerouslySetInnerHTML.__html;\n\n            var html = { __html: (0, _xss2.default)(__html) };\n\n            return _react2.default.createElement('span', _extends({ ref: 'paragraph' }, passedProps, { dangerouslySetInnerHTML: html }));\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (prevProps.dangerouslySetInnerHTML !== this.props.dangerouslySetInnerHTML) {\n                this.cached = this.refs.paragraph.innerHTML;\n                this.add();\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (!isServer()) {\n                this.lines = {\n                    props: this.props,\n                    get current() {\n                        if (this.props.portrait && window.innerHeight > window.innerWidth) {\n                            return this.props.portrait;\n                        }\n                        return this.props.lines;\n                    }\n                };\n\n                if (this.props.responsive) {\n                    this.cached = this.refs.paragraph.innerHTML;\n                    var debounce = void 0;\n                    var listener = function listener() {\n                        clearTimeout(debounce);\n                        debounce = setTimeout(function () {\n                            this.add();\n                        }.bind(this), this.props.debounce);\n                    };\n                    this._listener = listener.bind(this);\n\n                    window.addEventListener('resize', this._listener, false);\n                }\n\n                this.add();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.props.responsive && this._listener) {\n                window.removeEventListener('resize', this._listener, false);\n            }\n        }\n    }, {\n        key: 'createProp',\n        value: function createProp(element) {\n            this.prop = {\n                get height() {\n                    var viewportOffset = element.getBoundingClientRect();\n                    return parseInt(viewportOffset.bottom - viewportOffset.top, 10);\n                },\n                get lineheight() {\n                    var lineh = getComputedStyle(element).getPropertyValue('line-height');\n                    if (String('normal|initial|inherit').indexOf(lineh) > -1) {\n                        //very specific case\n                        lineh = parseInt(getComputedStyle(element).getPropertyValue('font-size'), 10) + 2;\n                    }\n                    return parseInt(lineh, 10);\n                }\n            };\n        }\n    }, {\n        key: 'add',\n        value: function add() {\n            if (this.props.responsive) {\n                if (this.refs.paragraph.innerHTML !== this.cached) {\n                    this.refs.paragraph.innerHTML = this.cached;\n                }\n            }\n\n            this.createProp(this.refs.paragraph);\n\n            if (this.isNotCorrect()) {\n                if (this.refs.paragraph.childNodes.length && this.refs.paragraph.childNodes.length > 1) {\n                    this.handleChilds(this.refs.paragraph);\n                } else if (this.refs.paragraph.childNodes.length && this.refs.paragraph.childNodes.length === 1 && this.refs.paragraph.childNodes[0].nodeType === 3) {\n                    this.simpleText(this.refs.paragraph);\n                }\n            }\n        }\n    }, {\n        key: 'breakWord',\n        value: function breakWord(str, str2, fix) {\n            var words = str.split(' ');\n            words.pop();\n            if (fix) {\n                words.pop();\n            }\n            if (!str2) {\n                if (words[words.length - 1]) {\n                    words[words.length - 1] = words[words.length - 1].replace(/(,$)/g, '').replace(/(\\.$)/g, '');\n                }\n                words.push(this.conf.ellipsis);\n                return words.join(' ');\n            } else {\n                if (words[words.length - 1]) {\n                    words[words.length - 1] = words[words.length - 1].replace(/(,$)/g, '').replace(/(\\.$)/g, '');\n                    words.push(this.conf.ellipsis);\n                    return [words.join(' '), str2];\n                } else if (!words[words.length - 1] && str2) {\n                    var st = ' ' + str2.trim().replace(/(,$)/g, '').replace(/(\\.$)/g, '') + ' ';\n                    words.push(this.conf.ellipsis);\n                    return [words.join(' '), st];\n                }\n            }\n        }\n    }, {\n        key: 'simpleText',\n        value: function simpleText(element) {\n            var childText = element.childNodes[0].nodeValue;\n            while (this.prop.height > this.prop.lineheight * this.lines.current) {\n                element.childNodes[0].nodeValue = childText.slice(0, -1);\n                childText = element.childNodes[0].nodeValue;\n            }\n            if (this.props.breakWord) {\n                element.childNodes[0].nodeValue = childText.slice(0, -this.props.ellipsis.length) + this.props.ellipsis;\n                if (this.isNotCorrect()) {\n                    //edge case\n                    element.childNodes[0].nodeValue = ' ' + element.childNodes[0].nodeValue.slice(0, -(this.props.ellipsis.length + 1)).trim().slice(0, -this.props.ellipsis.length) + this.props.ellipsis;\n                }\n            } else {\n                element.childNodes[0].nodeValue = this.breakWord(element.childNodes[0].nodeValue);\n                if (this.isNotCorrect()) {\n                    //edge case\n                    element.childNodes[0].nodeValue = this.breakWord(element.childNodes[0].nodeValue, null, true);\n                }\n            }\n        }\n    }, {\n        key: 'isNotCorrect',\n        value: function isNotCorrect() {\n            return this.prop.height > this.prop.lineheight * this.lines.current;\n        }\n    }, {\n        key: 'processBreak',\n        value: function processBreak(dOne, dTwo, fix) {\n            var r = this.breakWord(dOne.innerHTML || dOne.nodeValue, dTwo.innerHTML || dTwo.nodeValue, fix);\n            if (dOne.innerHTML) {\n                dOne.innerHTML = r[0];\n            } else {\n                dOne.nodeValue = r[0];\n            }\n            if (dTwo.innerHTML) {\n                dTwo.innerHTML = r[1];\n            } else {\n                dTwo.nodeValue = r[1];\n            }\n        }\n    }, {\n        key: 'handleChilds',\n        value: function handleChilds(e) {\n            var domChilds = e.childNodes;\n            var childText = void 0;\n            for (var i = domChilds.length - 1; i >= 0; i--) {\n                var displayOrigin = void 0;\n                if (domChilds[i].nodeType === 3) {\n                    displayOrigin = domChilds[i].nodeValue;\n                    domChilds[i].nodeValue = '';\n                } else if (domChilds[i].nodeType === 1) {\n                    displayOrigin = getComputedStyle(domChilds[i]).getPropertyValue('display');\n                    domChilds[i].style.display = 'none';\n                }\n\n                if (this.prop.height <= this.prop.lineheight * this.lines.current) {\n                    if (domChilds[i].nodeType === 3) {\n                        domChilds[i].nodeValue = displayOrigin;\n                        childText = domChilds[i].nodeValue;\n                        while (this.prop.height > this.prop.lineheight * this.lines.current) {\n                            domChilds[i].nodeValue = childText.slice(0, -1);\n                            childText = domChilds[i].nodeValue;\n                        }\n\n                        if (this.props.breakWord) {\n                            domChilds[i].nodeValue = childText.slice(0, -this.props.ellipsis.length) + this.props.ellipsis;\n                            if (this.isNotCorrect()) {\n                                //edge case\n                                domChilds[i].nodeValue = ' ' + domChilds[i].nodeValue.slice(0, -this.props.ellipsis.length).trim().slice(0, -this.props.ellipsis.length);\n                                if (domChilds[i].nodeValue.length > 1) {\n                                    domChilds[i].nodeValue = domChilds[i].nodeValue.slice(0, -this.props.ellipsis.length) + this.props.ellipsis;\n                                } else {\n                                    continue;\n                                }\n                            }\n                        } else {\n                            if (!domChilds[i].innerHTML && !domChilds[i].nodeValue) {\n                                continue;\n                            }\n                            this.processBreak(domChilds[i], domChilds[i - 1]);\n                            if (this.isNotCorrect()) {\n                                //edge case\n                                this.processBreak(domChilds[i], domChilds[i - 1], true);\n                                if (this.isNotCorrect()) {\n                                    e.removeChild(domChilds[i]);\n                                    continue;\n                                }\n                            }\n                        }\n                    } else {\n                        domChilds[i].style.display = displayOrigin;\n                        childText = domChilds[i].innerHTML;\n                        while (this.prop.height > this.prop.lineheight * this.lines.current) {\n                            domChilds[i].innerText = childText.slice(0, -1);\n                            childText = domChilds[i].innerText;\n                        }\n                        if (this.props.breakWord) {\n                            domChilds[i].innerHTML = childText.slice(0, -this.props.ellipsis.length) + this.props.ellipsis;\n                            if (this.isNotCorrect()) {\n                                //edge case\n                                domChilds[i].innerHTML = ' ' + domChilds[i].innerHTML.slice(0, -this.props.ellipsis.length).trim().slice(0, -this.props.ellipsis.length);\n                                if (domChilds[i].innerHTML.length > 1) {\n                                    domChilds[i].innerHTML = domChilds[i].innerHTML.slice(0, -this.props.ellipsis.length) + this.props.ellipsis;\n                                } else {\n                                    continue;\n                                }\n                            }\n                        } else {\n                            if (!domChilds[i].innerHTML && !domChilds[i].nodeValue) {\n                                continue;\n                            }\n                            this.processBreak(domChilds[i], domChilds[i - 1]);\n                            if (this.isNotCorrect()) {\n                                //edge case\n                                this.processBreak(domChilds[i], domChilds[i - 1], true);\n                                if (this.isNotCorrect()) {\n                                    e.removeChild(domChilds[i]);\n                                    continue;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                } else {\n                    e.removeChild(domChilds[i]);\n                }\n            }\n        }\n    }]);\n\n    return Truncate;\n}(_react.Component);\n\nTruncate.propTypes = {\n    ellipsis: _propTypes2.default.string,\n    debounce: _propTypes2.default.number,\n    responsive: _propTypes2.default.bool,\n    lines: _propTypes2.default.number,\n    portrait: _propTypes2.default.number,\n    breakWord: _propTypes2.default.bool\n};\nTruncate.defaultProps = {\n    ellipsis: '…',\n    debounce: 100,\n    responsive: true,\n    lines: 2,\n    portrait: null,\n    breakWord: true\n};\nexports.default = Truncate;\n\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.FilterXSS = FilterXSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\nfor (var i in parser) exports[i] = parser[i];\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // 在圆括号里面，忽略\n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList, onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function(html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    var stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function(sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: whiteList.hasOwnProperty(tag)\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function(name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            var ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        var html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        var ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n"],"sourceRoot":""}